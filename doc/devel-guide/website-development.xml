<chapter id="sect:htmlgeneration">
  <title>HTML Generation</title>
  <para>
    Most of the website is nowadays part of the Plone website
    hosted at the CUBIC. Some content on the website is, however,
    still autogenerated, and uploaded to the Plone FTP server.
  </para>
  <para>
    For example, the 
    <ulink url="http://almost.cubic.uni-koeln.de/cdk/cdk_top/docu/dictrefindex/">http://almost.cubic.uni-koeln.de/cdk/cdk_top/docu/dictrefindex/</ulink>
    page is created from CVS content, by doing:
    <programlisting>
> cdk doc/javadoc
> ant dictref.index
> xsltproc dictRefs2HTML.xsl index_html
    </programlisting>
    Then this file is uploaded to the Plone FTP server at
    almost.cubic.uni-koeln.de (Ask Christoph for upload access).
    At the time of writing I had to scp the file first to almost, and upload
    to the FTP server from there.
  </para>
  <para>
    The Bourne shell script I used for this looks like (thanx to Tobias for
    providing this script):
    <programlisting>
#!/bin/sh
USER='FillIn'
PASSWD='SecretPwd'
ftp -n almost.cubic.uni-koeln.de 8021 &lt;&lt;EOF
quote USER $USER
quote PASS $PASSWD
cd /cdk/cdk_top/docu/dictrefindex
put index_html
bye
EOF
exit 0
    </programlisting>
    I have this files saved in my home directory on almost as
    <filename>upload.dictref.index.sh</filename> so that I can do from my machine
    at home:
    <programlisting>
> scp index_html almost.cubic.uni-koeln.de:~/.
> ssh almost.cubic.uni-koeln.de "sh ~/upload.dictref.index.sh"
    </programlisting>
    so that I don't have to login.
  </para>
  <para>
    Similar things can be done for the other autogenerated pages. Below is a list
    of details you need to know to set things up.
  </para>
  <informaltable>
    <tgroup cols="3">
    <tbody>
      <row>
        <entry>ant target</entry>
        <entry>XSLT stylesheet</entry>
        <entry>Plone FTP directory</entry>
      </row>
      <row>
        <entry>dictref.index</entry>
        <entry>dictRefs2HTML.xsl</entry>
        <entry>/cdk/cdk_top/docu/dictrefindex</entry>
      </row>
      <row>
        <entry>keyword.index</entry>
        <entry>keywordIndex2HTML.xsl</entry>
        <entry>/cdk/cdk_top/docu/featurefolder</entry>
      </row>
    </tbody>
    </tgroup>
  </informaltable>
  <para>
    If you cleverly substitute the values in the above table in the commands
    and scripts earlier in this chapter, you have a working system.
  </para>
</chapter>
