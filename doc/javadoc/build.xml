<project name="CDK" default="overview" basedir=".">

    <property name="javadoc.dir" value="javadoc" />
    <property name="pathtojava3d" value="" />

    <path id="project.class.path">
        <pathelement location="${java.ext.dirs}/rt.jar" />

        <pathelement location="." />
        <fileset dir="../../jar">
            <include name="*.jar" />
        </fileset>
        <fileset dir="${pathtojava3d}">
            <include name="*.jar" />
        </fileset>
        <fileset dir="../../jar/libio">
            <include name="*.jar" />
        </fileset>
    </path>

    <target id="info" name="info"> 
        <!-- Gives information about the building process. -->
        <echo message="Environment:" />
        <echo message="   Ant version: ${ant.version}" />
        <echo message="  Java version: ${java.version}" />
        <echo message="  Java ext dir: ${java.ext.dirs}" />
    </target>
    
    <target name="overview" id="overview" depends="compileDoclets">
        <javadoc private="false" public="true">
            <classpath refid="project.class.path" />

            <doclet name="JavaDocStats" path="."/>

            <packageset dir="../../src/">
              <include name="org/openscience/cdk/**"/>
            </packageset>
        </javadoc>
    </target>

    <target name="keyword.index" id="keyword.index" depends="compileDoclets">
        <javadoc private="false" public="true">
            <classpath refid="project.class.path" />

            <doclet name="MakeKeywordIndexDoclet" path="."/>

            <packageset dir="../../src/">
              <include name="org/openscience/cdk/**"/>
              <exclude name="org/openscience/cdk/test/**"/>
            </packageset>
        </javadoc>
    </target>

    <target name="dictref.index" id="dictref.index" depends="compileDoclets">
        <javadoc private="false" public="true">
            <classpath refid="project.class.path" />

            <doclet name="MakeDictionaryIndexDoclet" path="."/>

            <packageset dir="../../src/">
              <include name="org/openscience/cdk/**"/>
              <exclude name="org/openscience/cdk/test/**"/>
            </packageset>
        </javadoc>
    </target>

    <target name="classes.mod" id="classes.mod" depends="compileDoclets">
        <javadoc private="false" public="true">
            <classpath refid="project.class.path" />

            <doclet name="MakeClassesDotModDoclet" path="."/>

            <packageset dir="../../src/">
              <include name="org/openscience/cdk/**"/>
            </packageset>
        </javadoc>
    </target>

    <target name="classes.web.mod" id="classes.web.mod" depends="compileDoclets">
        <javadoc private="false" public="true">
            <classpath refid="project.class.path" />

            <doclet name="MakeClassesDotWebDotModDoclet" path="."/>

            <packageset dir="../../src/">
              <include name="org/openscience/cdk/**"/>
            </packageset>
        </javadoc>
    </target>

    <target name="src.star.javafiles" id="src.star.javafiles" depends="compileDoclets">
        <javadoc private="false" public="true">
            <classpath refid="project.class.path" />

            <doclet name="MakeJavaFilesFilesDoclet" path="."/>

            <packageset dir="../../src/">
              <include name="org/openscience/cdk/**"/>
            </packageset>
        </javadoc>
    </target>

    <target name="dependencies" id="dependencies" depends="compileDoclets">
        <javadoc private="false" public="true">
            <classpath refid="project.class.path" />

            <doclet name="MakeJarDependencyDoclet" path="."/>

            <packageset dir="../../src/">
              <include name="org/openscience/cdk/**"/>
            </packageset>
        </javadoc>
    </target>

    <target name="xmi" id="xmi" depends="compileDoclets">
        <javadoc private="false" public="true">
            <classpath refid="project.class.path" />

            <doclet name="XMIDoclet" path="."/>

            <packageset dir="../../src/">
              <include name="org/openscience/cdk/**"/>
              <exclude name="org/openscience/cdk/test/**"/>
            </packageset>
        </javadoc>
    </target>

    <target name="compileDoclets" id="compileDoclets">
      <javac srcdir="source" destdir="."
             includes="*.java" debug="on" optimize="off">
        <classpath>
          <fileset dir="${java.ext.dirs}">
            <include name="tools.jar" />
          </fileset>
        </classpath>
      </javac>
    </target>
    
</project>



