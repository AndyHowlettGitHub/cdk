#! /bin/sh -e

JAVA=/usr/bin/java
CDKLIBDIR=/usr/share/libcdk-java/lib
CDKJARDIR=/usr/share/java

JARLIBS=`ls -1 ${CDKLIBDIR}/*.jar | perl -ne "s/\n|\r/:/g; print;"`
CDKLIBS=`ls -1 ${CDKJARDIR}/*.jar | perl -ne "s/\n|\r/:/g; print;"`
CLASSPATH=${JARLIBS}:${CDKLIBS}

# Collect -D options as java arguments
command=${JAVA}
while [ `echo $1 | egrep '^-[D|X]' | wc -l` != 0  ]; do
        command="$command $1"
        shift
done

${command} -cp ${CLASSPATH} org.openscience.cdk.applications.Validator $*
