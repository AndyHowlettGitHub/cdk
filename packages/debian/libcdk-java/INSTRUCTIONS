Instructions on how to compile libcdk-java & libcdk-java-common for Debian
--------------------------------------------------------------------------

Please read the special notes first!

************************* Special notes first ********************************
*  If you want to build the package with Java3D, you'll need a Java3D        *
*  package from blackdown.org (Java3D-packages from Sun for Linux are AFAIK  *
*  still experimental). You can follow these instructions:                   *
*                                                                            *
*      http://wiki.osuosl.org/display/DEV/Java+on+Debian                     *
*      http://www.linuxforum.com/linux-nvidia-installation/instjava.html     *
*                                                                            *
*  To build the package against JOElib, you need the source-code for this    *
*  library. Download joelib-source from                                      *
*                                                                            *
*      http://sourceforge.net/projects/joelib/                               *
*                                                                            *
*  and unpack the tarball. If you don't want to adjust the Makefile for      *
*  libcdk-java, rename the unpacked joelib-directory to "libjoelib-java".    *
*  This directory must be in the same directory like <libcdk-java-dir>!      *
*  Then adjust the file libjoelib-java/ant/build.xml. You can refer to the   *
*  joebuild.xml in the debian-directory in libcdk-java-dir).                 *
*                                                                            *
*  If you don't want to use JOElib, then comment out the line                *
*                                                                            *
*      $(MAKE) joelib                                                        *
*                                                                            *
*  in                                                                        *
*                                                                            *
*      <libcdk-java-dir>/debian/rules                                        *
*                                                                            *
*  Then you need to adjust line 83 + 84 in                                   *
*                                                                            *
*      libjoelib-java/src/joelib/util/cdk/CDKTools.java                      *
*                                                                            *
*  The follwing methods must be changed:                                     *
*                                                                            *
*      getX2D()  -->   getX2d()                                              *
*      getY2D()  -->   getY2d()                                              *
*                                                                            *
*  That's all.                                                               *
******************************************************************************


1. Download the source-code cdk-source-20040626.tar.gz from
   http://sourceforge.net/project/showfiles.php?group_id=20024 and unpack
   the tarball-archive.

2. Rename the source-directory to libcdk-java-<cdkupstreamversion>, e.g.
       
       libcdk-java-20040626

3. Download the files in this directory (cdk/packages/debian/libcdk-java/). For
   this moment, maybe you have to do this by accessing the cvs (in future, the
   debian-dir will be provided by the source-tarball). Remove any
   CVS-directory.

4. Change to the base-dir (libcdk-java-<cdkupstreamversion>) and make a
   directory called "debian".

5. Copy all files, which are in the the previously downloaded directory
   cdk/packages/debian/libcdk-java/ into the debian/-dir.

If you are not familiar with the package-build-process, you should read the
Debian New Maintainer's Guide first (http://www.debian.org/doc/maint-guide/).

6. Type
   
       dh_make -e <your-address@domain.xxx>

   in the base-dir and follow the instructions.

7. Adjust all files in debian/ to prepare packaging (maybe you want to adjust
   debian/changelog, debian/Makefile, debian/reportbugs/control). All files
   are prepared for including JAVA3D and JOElib (see special notes).

8. Adjust the build.xml file in the base-dir (you can refer to the build.xml
   file in the debian/, which should be up-2-date, so you can also copy the
   file to the base-dir).

9. Copy *.xml-files for manpages to debian/cdk-manpages. This directory
   includes such files, but they can be out of date (refer to the cvs-source).

10. Adjust the shell wrappers in cdk-binary if necessary (refer to the
    cvs-source).

11. Go to the base-dir and type: debuild.

12. That's it. The package is copied to the upper directory. Copy it to your 
    local repository or install it directly with dpkg -i <package>.


If you want to send me a package for a different architecture than i386 (maybe
you don't have a repositiory to put the package in, you can write to
daniel.leidert@wgdd.de. Then I will add it to the my (unofficial) repositiory, 
where the i386-binary-packages are located
(see http://www.wgdd.de/debian/dists).
