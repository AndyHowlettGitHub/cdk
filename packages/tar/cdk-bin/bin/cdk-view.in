#! /bin/sh -e

PREFIX=@prefix@
XERCESJAR=@PATHTOXERCES@
LOGJAVA=@PATHTOLOGJAVA@
THREEDJAR=@PATHTO3DJAR@
RTJAR=@PATHTORTJAR@
JAVA=@PATHTOJAVA@

JARLIBDIR=${PREFIX}/lib/cdk
JARLIBS=`ls -1 ${JARLIBDIR}/*.jar | perl -ne "s/\n|\r/:/g; print;"`
CLASSPATH=${RTJAR}:${LOGJAVA}:${XERCESJAR}:${JARLIBS}:${THREEDJAR}

# Collect -D options as java arguments
command=${JAVA}
while [ `echo $1 | egrep '^-D' | wc -l` != 0 ]; do
        command="$command $1"
        shift
done


${command} -Dcdk.debugging=true -cp ${CLASSPATH} org.openscience.cdk.applications.Viewer $*
