<?xml version="1.0"?>
<project name="CDK" default="pmd" basedir=".">

    <property name="lib" value="jar" />
    <property name="build" value="build" />
    <property name="src" value="src" />
    <property name="reports.tests" value="reports" />
    
    <path id="pmd.classpath">
        <pathelement location="${build}"/>
        <fileset dir="${lib}">
            <include name="jaxen-core-1.0-fcs.jar"/>
            <include name="pmd-1.8.jar"/>
            <include name="saxpath-1.0-fcs.jar"/>
        </fileset>
    </path>

    <taskdef name="pmd" classname="net.sourceforge.pmd.ant.PMDTask" 
                        classpathref="pmd.classpath"/>

    <target name="pmd" depends="pmd-data, pmd-core, pmd-standard, pmd-io, pmd-extra, pmd-render, pmd-applications, pmd-libio, pmd-experimental"/>
    
    <target name="pmd-data">
        <mkdir dir="${reports.tests}/pmd"/>
        <pmd shortFilenames="true" rulesetfiles="pmd/custom-data.xml">
            <formatter type="summaryhtml" toFile="${reports.tests}/pmd/data.html"/>
            <fileset dir="${src}">
                <includesfile name="${src}/data.javafiles"/>
            </fileset>
        </pmd>
    </target>

    <target name="pmd-core">
        <mkdir dir="${reports.tests}/pmd"/>
        <pmd shortFilenames="true" rulesetfiles="pmd/custom.xml">
            <formatter type="summaryhtml" toFile="${reports.tests}/pmd/core.html"/>
            <fileset dir="${src}">
                <includesfile name="${src}/core.javafiles"/>
            </fileset>
        </pmd>
    </target>

    <target name="pmd-standard">
        <mkdir dir="${reports.tests}/pmd"/>
        <pmd shortFilenames="true" rulesetfiles="pmd/custom.xml">
            <formatter type="summaryhtml" toFile="${reports.tests}/pmd/standard.html"/>
            <fileset dir="${src}">
                <includesfile name="${src}/standard.javafiles"/>
            </fileset>
        </pmd>
    </target>

    <target name="pmd-io">
        <mkdir dir="${reports.tests}/pmd"/>
        <pmd shortFilenames="true" rulesetfiles="pmd/custom.xml">
            <formatter type="summaryhtml" toFile="${reports.tests}/pmd/io.html"/>
            <fileset dir="${src}">
                <includesfile name="${src}/io.javafiles"/>
            </fileset>
        </pmd>
    </target>

    <target name="pmd-render">
        <mkdir dir="${reports.tests}/pmd"/>
        <pmd shortFilenames="true" rulesetfiles="pmd/custom.xml">
            <formatter type="summaryhtml" toFile="${reports.tests}/pmd/render.html"/>
            <fileset dir="${src}">
                <includesfile name="${src}/render.javafiles"/>
            </fileset>
        </pmd>
    </target>

    <target name="pmd-extra">
        <mkdir dir="${reports.tests}/pmd"/>
        <pmd shortFilenames="true" rulesetfiles="pmd/custom.xml">
            <formatter type="summaryhtml" toFile="${reports.tests}/pmd/extra.html"/>
             <fileset dir="${src}">
                <includesfile name="${src}/extra.javafiles"/>
            </fileset>
        </pmd>
    </target>

    <target name="pmd-applications">
        <mkdir dir="${reports.tests}/pmd"/>
        <pmd shortFilenames="true" rulesetfiles="pmd/custom.xml">
            <formatter type="summaryhtml" toFile="${reports.tests}/pmd/applications.html"/>
            <fileset dir="${src}">
                <includesfile name="${src}/applications.javafiles"/>
            </fileset>
        </pmd>
    </target>

    <target name="pmd-libio">
        <mkdir dir="${reports.tests}/pmd"/>
        <pmd shortFilenames="true" rulesetfiles="pmd/custom.xml">
            <formatter type="summaryhtml" toFile="${reports.tests}/pmd/libio.html"/>
            <fileset dir="${src}">
                <includesfile name="${src}/libio.javafiles"/>
            </fileset>
        </pmd>
    </target>

    <target name="pmd-experimental">
        <mkdir dir="${reports.tests}/pmd"/>
        <pmd shortFilenames="true" rulesetfiles="pmd/custom.xml">
            <formatter type="summaryhtml" toFile="${reports.tests}/pmd/experimental.html"/>
            <fileset dir="${src}">
                <includesfile name="${src}/experimental.javafiles"/>
            </fileset>
        </pmd>
    </target>

    <target name="pmd-qsar">
        <mkdir dir="${reports.tests}/pmd"/>
        <pmd shortFilenames="true" rulesetfiles="pmd/custom.xml">
            <formatter type="summaryhtml" toFile="${reports.tests}/pmd/qsar.html"/>
            <fileset dir="${src}">
                <includesfile name="${src}/qsar.javafiles"/>
            </fileset>
        </pmd>
    </target>

    <target name="pmd-builder3d">
        <mkdir dir="${reports.tests}/pmd"/>
        <pmd shortFilenames="true" rulesetfiles="pmd/custom.xml">
            <formatter type="summaryhtml" toFile="${reports.tests}/pmd/builder3d.html"/>
            <fileset dir="${src}">
                <includesfile name="${src}/builder3d.javafiles"/>
            </fileset>
        </pmd>
    </target>

</project>
