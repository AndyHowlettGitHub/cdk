<project name="CDK" default="docbook" basedir=".">

    <property name="javadoc.dir" value="javadoc" />
    <property name="pathtojava3d" value="" />

    <path id="project.class.path">
        <pathelement location="/usr/local/j2sdk1.4.0/lib/rt.jar" />

        <pathelement location="." />
        <fileset dir="jar">
            <include name="*.jar" />
        </fileset>
        <fileset dir="${pathtojava3d}">
            <include name="*.jar" />
        </fileset>
    </path>

    <path id="fop.class.path">
        <fileset dir="doc/devel-guide/jar">
            <include name="*.jar" />
        </fileset>
    </path>

    <target name="html">
        <mkdir dir="${javadoc.dir}" />

        <javadoc packagenames="org.openscience.cdk.*"
                 sourcepath="." destdir="${javadoc.dir}"
                 public="true">
            <classpath refid="project.class.path" />
        </javadoc>
    </target>

    <target name="core.docbook">
        <javadoc private="false" public="true">
            <classpath refid="project.class.path" />

            <doclet name="com.mf.doclet.docbook.DocBookDoclet"
                    path="jar/dbdoclet.jar">
                <param name="-properties" value="jar/dbdoclet.properties"/>
            </doclet>

            <package name="org.openscience.cdk"/>

            <sourcepath>
                <pathelement path="."/>
            </sourcepath>

        </javadoc>
    </target>

    <target name="core.fo" depends="core.docbook">
        <java classname="org.apache.xalan.xslt.Process"
              args="-IN javadoc.dbxml -XSL doc/devel-guide/lib/xslt/docbook/fo/docbook.xsl -OUT core.fo"
              dir="." fork="yes">
            <classpath refid="fop.class.path" />
        </java>
    </target>

    <target name="core.pdf" depends="core.fo">
        <java classname="org.apache.fop.apps.Fop"
              args="-fo core.fo -pdf core.pdf"
              dir="." fork="yes">
            <classpath refid="fop.class.path" />
        </java>
    </target>

</project>



